<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OpenClaw Command Center</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root{--font:'Outfit',sans-serif;--mono:'JetBrains Mono',monospace;--sw:250px;--blur:18px;--tr:0.3s cubic-bezier(0.4,0,0.2,1)}
[data-theme="dark"]{--bg:#0a0a0f;--bg2:#12121a;--gl:rgba(255,255,255,0.04);--glh:rgba(255,255,255,0.08);--glb:rgba(255,255,255,0.08);--glhi:rgba(255,255,255,0.12);--t1:#e8e8f0;--t2:#8888a0;--t3:#555570;--ac:#6c63ff;--acg:rgba(108,99,255,0.3);--ac2:#00d4aa;--ok:#00d4aa;--warn:#ffb347;--bad:#ff4757;--sbg:rgba(12,12,20,0.95);--sh:0 8px 32px rgba(0,0,0,0.4);--ibg:rgba(255,255,255,0.05)}
[data-theme="light"]{--bg:#f0f0f5;--bg2:#fff;--gl:rgba(255,255,255,0.65);--glh:rgba(255,255,255,0.8);--glb:rgba(0,0,0,0.08);--glhi:rgba(255,255,255,0.9);--t1:#1a1a2e;--t2:#666680;--t3:#999aaa;--ac:#5a52e0;--acg:rgba(90,82,224,0.2);--ac2:#00b894;--ok:#00b894;--warn:#f39c12;--bad:#e74c3c;--sbg:rgba(255,255,255,0.92);--sh:0 8px 32px rgba(0,0,0,0.08);--ibg:rgba(0,0,0,0.04)}
[data-theme="blue"]{--bg:#080c18;--bg2:#0d1224;--gl:rgba(30,60,120,0.15);--glh:rgba(30,60,120,0.25);--glb:rgba(100,160,255,0.12);--glhi:rgba(100,160,255,0.18);--t1:#d0e0ff;--t2:#7090c0;--t3:#405070;--ac:#4a9eff;--acg:rgba(74,158,255,0.3);--ac2:#00e5bf;--ok:#00e5bf;--warn:#ffb347;--bad:#ff4757;--sbg:rgba(8,12,28,0.95);--sh:0 8px 32px rgba(0,0,0,0.5);--ibg:rgba(100,160,255,0.06)}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}html,body{height:100%;overflow:hidden}
body{font-family:var(--font);background:var(--bg);color:var(--t1);transition:background var(--tr),color var(--tr)}
.G{background:var(--gl);backdrop-filter:blur(var(--blur));-webkit-backdrop-filter:blur(var(--blur));border:1px solid var(--glb);border-radius:14px;transition:all var(--tr)}.G:hover{background:var(--glh)}
.GS{background:var(--bg2);border:1px solid var(--glb);border-radius:14px}
.app{display:flex;height:100vh}
.sb{width:var(--sw);min-width:var(--sw);background:var(--sbg);backdrop-filter:blur(24px);border-right:1px solid var(--glb);display:flex;flex-direction:column;z-index:100}
.sb-h{padding:18px 14px;border-bottom:1px solid var(--glb)}
.sb-logo{display:flex;align-items:center;gap:10px}
.sb-icon{width:34px;height:34px;background:linear-gradient(135deg,var(--ac),var(--ac2));border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#fff;box-shadow:0 4px 12px var(--acg)}
.sb-t{font-weight:700;font-size:15px}.sb-s{font-size:9px;color:var(--t3)}
.sb-nav{flex:1;padding:8px 6px;overflow-y:auto}
.ns{font-size:8px;font-weight:600;text-transform:uppercase;letter-spacing:1.5px;color:var(--t3);padding:10px 10px 3px}
.ni{display:flex;align-items:center;gap:8px;padding:7px 10px;border-radius:7px;cursor:pointer;font-size:12px;font-weight:500;color:var(--t2);transition:all var(--tr);margin-bottom:1px}
.ni:hover{background:var(--glh);color:var(--t1)}.ni.on{background:var(--glhi);color:var(--ac)}
.ni-i{width:15px;text-align:center;font-size:12px}.ni-b{margin-left:auto;background:var(--ac);color:#fff;font-size:8px;font-weight:600;padding:1px 5px;border-radius:5px}
.sb-f{padding:10px 12px;border-top:1px solid var(--glb);font-size:9px;color:var(--t3)}
.mn{flex:1;overflow-y:auto;padding:20px;position:relative}
.mn::before{content:'';position:fixed;top:-50%;right:-30%;width:80vw;height:80vw;background:radial-gradient(circle,var(--acg) 0%,transparent 60%);pointer-events:none;z-index:0;opacity:0.2}
.mn>*{position:relative;z-index:1}
.ph{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.pt{font-size:22px;font-weight:700;letter-spacing:-0.5px}.ps{font-size:10px;color:var(--t2);margin-top:2px}
.g4{display:grid;grid-template-columns:repeat(auto-fill,minmax(230px,1fr));gap:12px}
.g3{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:14px}
.g2{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.cd{padding:16px}.cd-l{font-size:9px;font-weight:600;text-transform:uppercase;letter-spacing:0.7px;color:var(--t2)}
.cd-v{font-size:24px;font-weight:700;letter-spacing:-1px;margin-top:5px}.cd-s{font-size:10px;margin-top:3px}
.up{color:var(--ok)}.dn{color:var(--bad)}.mt{color:var(--t3)}
.tg{font-size:9px;font-weight:500;padding:2px 6px;border-radius:4px;background:var(--glhi);color:var(--t2);display:inline-block}
.tg-h{background:rgba(255,71,87,0.2);color:var(--bad)}.tg-m{background:rgba(255,179,71,0.2);color:var(--warn)}.tg-l{background:rgba(0,212,170,0.2);color:var(--ok)}
.tg-f{background:rgba(108,99,255,0.2);color:var(--ac)}.tg-b{background:rgba(255,71,87,0.2);color:var(--bad)}.tg-c{background:rgba(255,179,71,0.2);color:var(--warn)}
.bt{padding:7px 14px;border-radius:7px;font-family:var(--font);font-size:10px;font-weight:600;cursor:pointer;border:none;transition:all var(--tr)}
.bt-p{background:var(--ac);color:#fff}.bt-p:hover{box-shadow:0 4px 12px var(--acg)}
.bt-g{background:transparent;color:var(--t2);border:1px solid var(--glb)}.bt-g:hover{background:var(--glh)}
.bt-d{background:var(--bad);color:#fff}.bt-s{padding:4px 8px;font-size:9px}
.inp{width:100%;padding:8px 10px;background:var(--ibg);border:1px solid var(--glb);border-radius:7px;color:var(--t1);font-family:var(--font);font-size:11px;outline:none}.inp:focus{border-color:var(--ac)}
.sel{width:100%;padding:8px 10px;background:var(--ibg);border:1px solid var(--glb);border-radius:7px;color:var(--t1);font-family:var(--font);font-size:11px;outline:none;cursor:pointer}
.ta{width:100%;padding:8px 10px;background:var(--ibg);border:1px solid var(--glb);border-radius:7px;color:var(--t1);font-family:var(--font);font-size:11px;outline:none;min-height:50px;resize:vertical}
.lb{display:block;font-size:9px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;color:var(--t2);margin-bottom:4px}
.fg{margin-bottom:10px}
table{width:100%;border-collapse:collapse;font-size:10px}
th{text-align:left;padding:8px 10px;font-size:8px;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:var(--t3);border-bottom:1px solid var(--glb)}
td{padding:8px 10px;border-bottom:1px solid var(--glb);color:var(--t2)}tr:hover{background:var(--glh)}
.pill{display:inline-flex;align-items:center;gap:3px;padding:2px 7px;border-radius:4px;font-size:9px;font-weight:500}.pill-on{background:rgba(0,212,170,0.15);color:var(--ok)}.pill-off{background:rgba(255,71,87,0.15);color:var(--bad)}
.rw{width:76px;height:76px;margin:0 auto 8px;position:relative}.rw svg{transform:rotate(-90deg)}
.rv{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:16px;font-weight:700;font-family:var(--mono)}
.mo-bg{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000}
.mo{width:440px;max-height:78vh;overflow-y:auto;padding:22px}.mo h3{font-size:15px;font-weight:700;margin-bottom:16px}
.dp{position:fixed;top:0;right:0;width:380px;height:100vh;background:var(--bg2);border-left:1px solid var(--glb);z-index:500;overflow-y:auto;padding:20px;animation:sR 0.3s ease}
@keyframes sR{from{transform:translateX(100%)}to{transform:translateX(0)}}
.dp-x{position:absolute;top:12px;right:12px;width:26px;height:26px;border-radius:6px;border:none;background:var(--gl);color:var(--t2);font-size:13px;cursor:pointer;display:flex;align-items:center;justify-content:center}.dp-x:hover{background:var(--glh)}
.kw{display:flex;gap:10px;overflow-x:auto;padding-bottom:12px;min-height:calc(100vh - 170px)}
.kc{min-width:250px;max-width:250px;display:flex;flex-direction:column;gap:7px}
.kh{display:flex;align-items:center;gap:6px;padding:9px 11px;border-radius:9px;font-weight:600;font-size:10px;text-transform:uppercase;letter-spacing:0.5px}
.kh .cn{margin-left:auto;background:rgba(255,255,255,0.15);padding:1px 5px;border-radius:5px;font-size:8px}
.ks{display:flex;flex-direction:column;gap:6px;flex:1;min-height:50px;padding:3px;border-radius:9px;transition:background 0.2s}.ks.dov{background:var(--glh)}
.kk{padding:11px;cursor:grab;transition:all 0.2s}.kk:active{cursor:grabbing;transform:scale(0.98)}.kk:hover{transform:translateY(-1px);box-shadow:var(--sh)}
.kk-t{font-weight:600;font-size:11px;margin-bottom:4px}.kk-d{font-size:9px;color:var(--t3);margin-bottom:6px;max-height:24px;overflow:hidden}
.kk-m{display:flex;gap:3px;flex-wrap:wrap}.kk-a{font-size:8px;color:var(--t3);margin-top:4px;display:flex;align-items:center;gap:3px}
.dot{width:5px;height:5px;border-radius:50%;display:inline-block}.dot-on{background:var(--ok);box-shadow:0 0 4px var(--ok)}
.ab{display:flex;align-items:center;justify-content:center;gap:4px;padding:7px;border-radius:7px;border:2px dashed var(--glb);background:transparent;color:var(--t3);font-family:var(--font);font-size:10px;cursor:pointer}.ab:hover{border-color:var(--ac);color:var(--ac)}
.tabs{display:flex;gap:2px;margin-bottom:14px;padding:3px;background:var(--gl);border-radius:7px;border:1px solid var(--glb);overflow-x:auto}
.tab{padding:5px 10px;border-radius:5px;font-size:10px;font-weight:500;cursor:pointer;color:var(--t2);transition:all 0.2s;white-space:nowrap}.tab.on{background:var(--ac);color:#fff}.tab:hover:not(.on){background:var(--glh)}
.dtree{width:240px;min-width:240px;overflow-y:auto}.dws{margin-bottom:10px}
.dwh{display:flex;align-items:center;gap:5px;padding:6px 8px;cursor:pointer;border-radius:7px;font-weight:600;font-size:11px}.dwh:hover{background:var(--glh)}
.dfl{padding-left:16px;margin-top:2px}
.df{display:flex;align-items:center;gap:5px;padding:3px 7px;border-radius:5px;cursor:pointer;font-size:10px;color:var(--t2)}.df:hover{background:var(--glh);color:var(--t1)}.df.on{background:var(--glhi);color:var(--ac)}
.dv{background:var(--ibg);border:1px solid var(--glb);border-radius:9px;padding:14px;font-family:var(--mono);font-size:10px;line-height:1.6;white-space:pre-wrap;max-height:calc(100vh - 200px);overflow-y:auto;color:var(--t2)}
.si{display:flex;align-items:center;gap:9px;padding:10px 12px;border-bottom:1px solid var(--glb)}
.si-i{width:30px;height:30px;border-radius:7px;display:flex;align-items:center;justify-content:center;font-size:14px}
.si-ok{background:rgba(0,212,170,0.15)}.si-w{background:rgba(255,179,71,0.15)}.si-b{background:rgba(255,71,87,0.15)}
.cml{display:flex;flex-direction:column;gap:6px;margin-top:10px}
.cm{padding:7px;border-radius:7px;background:var(--gl);font-size:10px}.cm-m{font-size:8px;color:var(--t3);margin-top:2px}
.liw{height:100vh;display:flex;align-items:center;justify-content:center;background:var(--bg);position:relative;overflow:hidden}
.liw::before{content:'';position:absolute;top:30%;left:50%;transform:translate(-50%,-50%);width:500px;height:500px;background:radial-gradient(circle,var(--acg) 0%,transparent 60%);opacity:0.5}
.lib{width:340px;padding:32px;text-align:center;z-index:1}
.li-l{width:56px;height:56px;background:linear-gradient(135deg,var(--ac),var(--ac2));border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;color:#fff;margin:0 auto 18px;box-shadow:0 8px 25px var(--acg)}
.li-t{font-size:20px;font-weight:700;margin-bottom:5px}.li-s{font-size:11px;color:var(--t2);margin-bottom:24px}
.li-i{width:100%;padding:11px 14px;background:var(--ibg);border:1px solid var(--glb);border-radius:9px;color:var(--t1);font-family:var(--font);font-size:12px;outline:none;margin-bottom:12px}.li-i:focus{border-color:var(--ac);box-shadow:0 0 0 3px var(--acg)}
.li-b{width:100%;padding:11px;background:linear-gradient(135deg,var(--ac),var(--ac2));border:none;border-radius:9px;color:#fff;font-family:var(--font);font-size:13px;font-weight:600;cursor:pointer}.li-b:hover{transform:translateY(-2px);box-shadow:0 6px 20px var(--acg)}
.li-e{color:var(--bad);font-size:11px;margin-top:8px}
.ths{display:flex;gap:8px}.tho{flex:1;padding:14px;text-align:center;cursor:pointer;border:2px solid transparent;transition:all var(--tr)}.tho.on{border-color:var(--ac);box-shadow:0 0 12px var(--acg)}
.thp{width:36px;height:36px;border-radius:8px;margin:0 auto 5px;border:2px solid rgba(255,255,255,0.1)}.thn{font-size:10px;font-weight:600}
.re{background:var(--gl);border:1px solid var(--glb);color:var(--t2);padding:4px 10px;border-radius:6px;font-family:var(--font);font-size:10px;cursor:pointer}.re:hover{background:var(--glh);color:var(--t1)}
::-webkit-scrollbar{width:4px;height:4px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--glb);border-radius:2px}
@keyframes su{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}.an{animation:su 0.3s ease-out}
</style></head>
<body data-theme="dark"><div id="root"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
<script type="text/babel">
const{useState,useEffect,useCallback}=React;
const F=(p,o)=>fetch(p,o).then(r=>r.json()).catch(e=>({error:e.message}));
const STAGES=[{id:'triage',l:'Triage',i:'üì•',bg:'rgba(255,107,157,0.15)'},{id:'planning',l:'Planning',i:'üìã',bg:'rgba(108,99,255,0.15)'},{id:'architect',l:'Architect',i:'üèó',bg:'rgba(0,212,170,0.15)'},{id:'building',l:'Building',i:'\u26A1',bg:'rgba(255,179,71,0.15)'},{id:'review',l:'Review',i:'üîç',bg:'rgba(0,180,255,0.15)'},{id:'deploy',l:'Deploy',i:'üöÄ',bg:'rgba(160,100,255,0.15)'},{id:'done',l:'Done',i:'\u2705',bg:'rgba(0,212,170,0.25)'}];
const AG=[{id:'atlas',n:'Atlas',r:'Chief of Staff',i:'üèõ',c:'#6c63ff'},{id:'hvac',n:'HVAC',r:'GM Execution',i:'\u2744\uFE0F',c:'#00d4aa'},{id:'markets',n:'Markets',r:'Trading Ops',i:'üìà',c:'#ff6b9d'},{id:'digital',n:'Digital',r:'Business Builder',i:'üåê',c:'#ffb347'},{id:'personal',n:'Personal',r:'Life Admin',i:'üë§',c:'#4a9eff'}];
const PJ=['command-center','hvac-crm','personal-finance','trading','tiktok','sweet-snout','infrastructure'];
const IT=[{id:'1',title:'Command Center MVP',desc:'Dashboard, Kanban, Security, Usage, Docs, Cron CRUD',type:'feature',pri:'high',stage:'building',agent:'atlas',proj:'command-center',phase:1,comments:[]},{id:'2',title:'Claude Code Integration',desc:'SSH into Kanban pipeline',type:'feature',pri:'high',stage:'triage',agent:null,proj:'command-center',phase:2,comments:[]},{id:'3',title:'Sub-Agent Factory',desc:'Create specialized agents from UI',type:'feature',pri:'medium',stage:'triage',agent:null,proj:'command-center',phase:2,comments:[]},{id:'4',title:'HVAC Regional CRM',desc:'Liquid glass CRM, margin detection, early warning',type:'feature',pri:'high',stage:'triage',agent:'hvac',proj:'hvac-crm',phase:3,comments:[]},{id:'5',title:'Email Ingestion Pipeline',desc:'4 ST reports auto-parse in 15min SLA',type:'feature',pri:'high',stage:'triage',agent:'hvac',proj:'hvac-crm',phase:3,comments:[]},{id:'6',title:'Finance Dashboard',desc:'Calendar, salary, expenses, YTD',type:'feature',pri:'medium',stage:'triage',agent:'personal',proj:'personal-finance',phase:4,comments:[]},{id:'7',title:'Solana Trading Bot',desc:'On-chain trading + dashboard',type:'feature',pri:'medium',stage:'triage',agent:'markets',proj:'trading',phase:5,comments:[]},{id:'8',title:'TikTok Factory',desc:'Video creation, posting, growth',type:'feature',pri:'medium',stage:'triage',agent:'digital',proj:'tiktok',phase:6,comments:[]},{id:'9',title:'Sweet Snout SEO',desc:'SEO + social presence',type:'feature',pri:'medium',stage:'planning',agent:'digital',proj:'sweet-snout',phase:6,comments:[]},{id:'10',title:'Polymarket Bot',desc:'Autonomous prediction market trading',type:'feature',pri:'low',stage:'triage',agent:'markets',proj:'trading',phase:5,comments:[]}];

// LOGIN
function Login({onLogin}){const[p,setP]=useState('');const[e,setE]=useState('');
return(<div className="liw"><div className="lib G"><div className="li-l">OC</div><div className="li-t">Command Center</div><div className="li-s">OpenClaw v2026.2.13</div><form onSubmit={ev=>{ev.preventDefault();p==='openclaw2026'?onLogin():setE('Wrong password')}}><input type="password" className="li-i" placeholder="Password" value={p} onChange={ev=>setP(ev.target.value)} autoFocus/><button type="submit" className="li-b">Enter</button></form>{e&&<div className="li-e">{e}</div>}</div></div>)}

// SIDEBAR
function Side({pg,go}){const its=[{s:'COMMAND'},{id:'dashboard',ic:'üìä',l:'Dashboard'},{id:'operations',ic:'\u26A1',l:'Operations',b:'10'},{id:'builds',ic:'üî®',l:'Builds & Tasks'},{s:'BOTS'},{id:'agents',ic:'ü§ñ',l:'Agents',b:'5'},{id:'cron',ic:'\u23F0',l:'Cron Jobs'},{s:'SYSTEM'},{id:'security',ic:'üõ°\uFE0F',l:'Security'},{id:'usage',ic:'üí≥',l:'Token Usage'},{id:'docs',ic:'üìÅ',l:'Docs & Files'},{id:'health',ic:'üíö',l:'VPS Health'},{id:'settings',ic:'\u2699\uFE0F',l:'Settings'}];
return(<div className="sb"><div className="sb-h"><div className="sb-logo"><div className="sb-icon">OC</div><div><div className="sb-t">OpenClaw</div><div className="sb-s">Command Center</div></div></div></div><div className="sb-nav">{its.map((x,i)=>x.s?<div key={i} className="ns">{x.s}</div>:<div key={x.id} className={'ni'+(pg===x.id?' on':'')} onClick={()=>go(x.id)}><span className="ni-i">{x.ic}</span><span>{x.l}</span>{x.b&&<span className="ni-b">{x.b}</span>}</div>)}</div><div className="sb-f">OpenClaw 2026.2.13 ¬∑ Haiku 4.5<br/>Gateway Active</div></div>)}

// DASHBOARD
function Dash(){const[h,setH]=useState(null);const[m,setM]=useState(null);const[cr,setCr]=useState(null);const[ug,setUg]=useState(null);const[ts,setTs]=useState(null);
const load=()=>{Promise.all([F('/api/health'),F('/api/markets/momo'),F('/api/cron'),F('/api/usage')]).then(([a,b,c,d])=>{setH(a);setM(b);setCr(c);setUg(d);setTs(new Date())})};
useEffect(()=>{load();const iv=setInterval(load,30000);return()=>clearInterval(iv)},[]);
const mp=m?.primary||m?.pairs?.[0];const mc=mp?.price_change_24h||0;
const cronTotal=cr?.jobs?.length||0;const cronOn=cr?.jobs?.filter(j=>j.enabled!==false).length||0;
const totalSessions=ug?Object.values(ug.agents).reduce((s,a)=>s+a.sessions,0):0;
const cards=[{l:'MOMO Price',v:mp?'$'+parseFloat(mp.price_usd).toFixed(6):'\u2014',s:mc?(mc>0?'+':'')+mc+'% 24h':'\u2014',u:mc>0},{l:'MOMO Volume',v:mp?'$'+Math.round(mp.volume_24h).toLocaleString():'\u2014',s:mp?'Liq: $'+Math.round(mp.liquidity_usd).toLocaleString():'\u2014',u:1},{l:'Agents',v:'5/5',s:'All online',u:1},{l:'Cron Jobs',v:cronOn+'/'+cronTotal,s:cronOn+' active, '+(cronTotal-cronOn)+' paused',u:cronOn>0},{l:'CPU',v:h?h.cpu.percent+'%':'\u2014',s:h?h.cpu.cores+' cores, load '+h.cpu.load:'',u:1},{l:'Memory',v:h?h.memory.percent+'%':'\u2014',s:h?h.memory.used+'/'+h.memory.total+'GB':'',u:1},{l:'Disk',v:h?h.disk.percent+'%':'\u2014',s:h?h.disk.used+'/'+h.disk.total:'',u:1},{l:'Sessions',v:String(totalSessions),s:ug?Object.entries(ug.agents).map(([k,v])=>k[0].toUpperCase()+':'+v.sessions).join(' '):'\u2014',u:1}];
return(<div className="an"><div className="ph"><div><div className="pt">Dashboard</div><div className="ps">{new Date().toLocaleDateString('en-US',{weekday:'long',month:'long',day:'numeric',year:'numeric'})} \u2014 {h?'All systems operational':'Loading...'}{ts&&<span style={{marginLeft:8,fontSize:9,color:'var(--ok)'}}>Updated {ts.toLocaleTimeString()} \u00B7 30s refresh</span>}</div></div><button className="re" onClick={load}>Refresh</button></div><div className="g4" style={{marginBottom:18}}>{cards.map((c,i)=><div key={i} className="cd G"><div className="cd-l">{c.l}</div><div className="cd-v">{c.v}</div><div className={'cd-s '+(c.u?'up':'mt')}>{c.u?'\u2191':'\u25CF'} {c.s}</div></div>)}</div>
<div className="g2"><div><h3 style={{fontSize:13,fontWeight:600,marginBottom:8}}>Priority Builds</h3><div className="G" style={{padding:12}}>{IT.filter(t=>t.stage!=='done').slice(0,5).map((t,i)=><div key={i} style={{display:'flex',alignItems:'center',gap:6,padding:'7px 0',borderBottom:i<4?'1px solid var(--glb)':'none'}}><span className={'tg tg-'+t.pri[0]}>{t.pri}</span><span style={{flex:1,fontWeight:500,fontSize:11}}>{t.title}</span><span className="tg">{t.stage}</span><span style={{fontSize:9,color:'var(--t3)'}}>P{t.phase}</span></div>)}</div></div>
<div><h3 style={{fontSize:13,fontWeight:600,marginBottom:8}}>Agent Activity</h3><div className="G" style={{padding:12}}>{AG.map((a,i)=><div key={i} style={{display:'flex',alignItems:'center',gap:8,padding:'7px 0',borderBottom:i<4?'1px solid var(--glb)':'none'}}><div style={{width:28,height:28,borderRadius:7,background:'linear-gradient(135deg,'+a.c+','+a.c+'88)',display:'flex',alignItems:'center',justifyContent:'center',fontSize:13}}>{a.i}</div><div style={{flex:1}}><div style={{fontWeight:500,fontSize:11}}>{a.n}</div><div style={{fontSize:9,color:'var(--t3)'}}>{a.r}</div></div><span className="dot dot-on"></span><span style={{fontSize:9,color:'var(--ok)'}}>Online</span></div>)}</div></div></div></div>)}

// KANBAN
function Kanban(){const[tasks,setTasks]=useState(IT);const[modal,setModal]=useState(false);const[sel,setSel]=useState(null);const[drag,setDrag]=useState(null);const[dov,setDov]=useState(null);const[filt,setFilt]=useState('all');
const ft=filt==='all'?tasks:tasks.filter(t=>t.proj===filt);
const drop=(e,sid)=>{e.preventDefault();if(drag)setTasks(p=>p.map(t=>t.id===drag?{...t,stage:sid}:t));setDrag(null);setDov(null)};
const add=t=>{setTasks(p=>[...p,{...t,id:String(Date.now()),stage:'triage',comments:[]}]);setModal(false)};
const comment=(id,txt,who)=>setTasks(p=>p.map(t=>t.id===id?{...t,comments:[...(t.comments||[]),{id:Date.now()+'',text:txt,author:who,ts:new Date().toISOString()}]}:t));
const del=id=>{setTasks(p=>p.filter(t=>t.id!==id));setSel(null)};
return(<div className="an"><div className="ph"><div><div className="pt">Operations</div><div className="ps">Drag tasks between stages \u00B7 Click for details</div></div><button className="bt bt-p" onClick={()=>setModal(true)}>+ New Task</button></div><div className="tabs"><div className={'tab'+(filt==='all'?' on':'')} onClick={()=>setFilt('all')}>All</div>{PJ.map(p=><div key={p} className={'tab'+(filt===p?' on':'')} onClick={()=>setFilt(p)}>{p}</div>)}</div>
<div className="kw">{STAGES.map(s=>{const st=ft.filter(t=>t.stage===s.id);return(<div key={s.id} className="kc"><div className="kh" style={{background:s.bg}}><span>{s.i}</span><span>{s.l}</span><span className="cn">{st.length}</span></div><div className={'ks'+(dov===s.id?' dov':'')} onDragOver={e=>{e.preventDefault();setDov(s.id)}} onDrop={e=>drop(e,s.id)} onDragLeave={()=>setDov(null)}>{st.map(t=><div key={t.id} className="kk G" draggable onDragStart={()=>setDrag(t.id)} onDragEnd={()=>{setDrag(null);setDov(null)}} onClick={()=>setSel(t)}><div className="kk-t">{t.title}</div><div className="kk-d">{t.desc}</div><div className="kk-m"><span className={'tg tg-'+t.type[0]}>{t.type}</span><span className={'tg tg-'+t.pri[0]}>{t.pri}</span>{t.proj&&<span className="tg">{t.proj}</span>}</div>{t.agent&&<div className="kk-a"><span className="dot dot-on"></span>{AG.find(a=>a.id===t.agent)?.n||t.agent}{(t.comments||[]).length>0&&<span style={{marginLeft:'auto'}}>üí¨ {t.comments.length}</span>}</div>}</div>)}{s.id==='triage'&&<button className="ab" onClick={()=>setModal(true)}>+ Add</button>}</div></div>)})}</div>
{modal&&<TModal onAdd={add} onClose={()=>setModal(false)}/>}{sel&&<TDetail t={sel} onClose={()=>setSel(null)} onComment={comment} onDel={del} onUpd={(id,d)=>{setTasks(p=>p.map(t=>t.id===id?{...t,...d}:t));setSel(x=>({...x,...d}))}}/>}</div>)}

function TModal({onAdd,onClose}){const[t,sT]=useState('');const[d,sD]=useState('');const[ty,sTy]=useState('feature');const[p,sP]=useState('medium');const[a,sA]=useState('');const[pr,sPr]=useState('command-center');
return(<div className="mo-bg" onClick={onClose}><div className="mo GS" onClick={e=>e.stopPropagation()}><h3>New Task</h3><div className="fg"><label className="lb">Title</label><input className="inp" value={t} onChange={e=>sT(e.target.value)} placeholder="What needs to be built?" autoFocus/></div><div className="fg"><label className="lb">Description</label><textarea className="ta" value={d} onChange={e=>sD(e.target.value)} placeholder="Details"/></div><div style={{display:'flex',gap:8}}><div className="fg" style={{flex:1}}><label className="lb">Type</label><select className="sel" value={ty} onChange={e=>sTy(e.target.value)}><option value="feature">Feature</option><option value="bug">Bug</option><option value="chore">Chore</option></select></div><div className="fg" style={{flex:1}}><label className="lb">Priority</label><select className="sel" value={p} onChange={e=>sP(e.target.value)}><option value="high">High</option><option value="medium">Medium</option><option value="low">Low</option></select></div></div><div style={{display:'flex',gap:8}}><div className="fg" style={{flex:1}}><label className="lb">Agent</label><select className="sel" value={a} onChange={e=>sA(e.target.value)}><option value="">Unassigned</option>{AG.map(x=><option key={x.id} value={x.id}>{x.n}</option>)}</select></div><div className="fg" style={{flex:1}}><label className="lb">Project</label><select className="sel" value={pr} onChange={e=>sPr(e.target.value)}>{PJ.map(x=><option key={x} value={x}>{x}</option>)}</select></div></div><div style={{display:'flex',gap:8,justifyContent:'flex-end',marginTop:14}}><button className="bt bt-g" onClick={onClose}>Cancel</button><button className="bt bt-p" onClick={()=>t&&onAdd({title:t,desc:d,type:ty,pri:p,agent:a||null,proj:pr,phase:1})}>Create</button></div></div></div>)}

function TDetail({t,onClose,onComment,onDel,onUpd}){const[cm,setCm]=useState('');
return(<div className="dp"><button className="dp-x" onClick={onClose}>\u2715</button><h2 style={{fontSize:16,fontWeight:700,marginBottom:12,paddingRight:36}}>{t.title}</h2><div style={{display:'flex',gap:4,flexWrap:'wrap',marginBottom:12}}><span className={'tg tg-'+t.type[0]}>{t.type}</span><span className={'tg tg-'+t.pri[0]}>{t.pri}</span>{t.proj&&<span className="tg">{t.proj}</span>}<span className="tg">P{t.phase}</span></div><div style={{fontSize:11,color:'var(--t2)',marginBottom:16}}>{t.desc}</div><div className="fg"><label className="lb">Stage</label><select className="sel" value={t.stage} onChange={e=>onUpd(t.id,{stage:e.target.value})}>{STAGES.map(s=><option key={s.id} value={s.id}>{s.i} {s.l}</option>)}</select></div><div className="fg"><label className="lb">Agent</label><select className="sel" value={t.agent||''} onChange={e=>onUpd(t.id,{agent:e.target.value||null})}><option value="">Unassigned</option>{AG.map(a=><option key={a.id} value={a.id}>{a.n}</option>)}</select></div><div style={{borderTop:'1px solid var(--glb)',paddingTop:12,marginTop:8}}><div style={{fontSize:11,fontWeight:600,marginBottom:6}}>Comments ({(t.comments||[]).length})</div><div className="cml">{(t.comments||[]).map(c=><div key={c.id} className="cm"><div>{c.text}</div><div className="cm-m">{c.author} \u00B7 {new Date(c.ts).toLocaleString()}</div></div>)}</div><div style={{display:'flex',gap:6,marginTop:8}}><input className="inp" style={{flex:1}} value={cm} onChange={e=>setCm(e.target.value)} placeholder="Add comment..." onKeyDown={e=>{if(e.key==='Enter'&&cm){onComment(t.id,cm,'Ismael');setCm('')}}}/><button className="bt bt-p bt-s" onClick={()=>{if(cm){onComment(t.id,cm,'Ismael');setCm('')}}}>Post</button></div></div><button className="bt bt-d bt-s" style={{marginTop:16}} onClick={()=>onDel(t.id)}>Delete Task</button></div>)}

// BUILDS PAGE
function Builds(){const[tab,setTab]=useState('all');
const phases=[{n:1,t:'Command Center',items:IT.filter(t=>t.phase===1)},{n:2,t:'Claude Code + Agents',items:IT.filter(t=>t.phase===2)},{n:3,t:'HVAC CRM',items:IT.filter(t=>t.phase===3)},{n:4,t:'Personal Finance',items:IT.filter(t=>t.phase===4)},{n:5,t:'Trading',items:IT.filter(t=>t.phase===5)},{n:6,t:'Digital',items:IT.filter(t=>t.phase===6)}];
const filtered=tab==='all'?phases:phases.filter(p=>'P'+p.n===tab);
return(<div className="an"><div className="ph"><div><div className="pt">Builds & Tasks</div><div className="ps">Master build list across all phases</div></div></div><div className="tabs"><div className={'tab'+(tab==='all'?' on':'')} onClick={()=>setTab('all')}>All Phases</div>{phases.map(p=><div key={p.n} className={'tab'+(tab==='P'+p.n?' on':'')} onClick={()=>setTab('P'+p.n)}>P{p.n}: {p.t}</div>)}</div>{filtered.map(p=><div key={p.n} style={{marginBottom:20}}><h3 style={{fontSize:13,fontWeight:600,marginBottom:8}}>Phase {p.n}: {p.t}</h3><div className="G" style={{borderRadius:12,overflow:'hidden'}}><table><thead><tr><th>Task</th><th>Type</th><th>Priority</th><th>Stage</th><th>Agent</th></tr></thead><tbody>{p.items.map(t=><tr key={t.id}><td style={{fontWeight:500,color:'var(--t1)'}}>{t.title}<div style={{fontSize:9,color:'var(--t3)'}}>{t.desc}</div></td><td><span className={'tg tg-'+t.type[0]}>{t.type}</span></td><td><span className={'tg tg-'+t.pri[0]}>{t.pri}</span></td><td><span className="tg">{t.stage}</span></td><td>{t.agent?AG.find(a=>a.id===t.agent)?.n:'\u2014'}</td></tr>)}</tbody></table></div></div>)}</div>)}

// AGENTS
function Agents(){return(<div className="an"><div className="ph"><div><div className="pt">Agents</div><div className="ps">5 bots \u2014 Haiku 4.5 default, Opus 4.6 for complex</div></div></div><div className="g3">{AG.map(a=><div key={a.id} className="cd G"><div style={{display:'flex',alignItems:'center',gap:10,marginBottom:12}}><div style={{width:40,height:40,borderRadius:10,background:'linear-gradient(135deg,'+a.c+','+a.c+'88)',display:'flex',alignItems:'center',justifyContent:'center',fontSize:18}}>{a.i}</div><div style={{flex:1}}><div style={{fontWeight:600,fontSize:14}}>{a.n}</div><div style={{fontSize:10,color:'var(--t2)'}}>{a.r}</div></div><span className="pill pill-on">\u25CF online</span></div><div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:8,paddingTop:10,borderTop:'1px solid var(--glb)'}}><div><div style={{fontSize:9,color:'var(--t3)'}}>Default</div><div style={{fontSize:11,fontWeight:600,fontFamily:'var(--mono)'}}>Haiku 4.5</div></div><div><div style={{fontSize:9,color:'var(--t3)'}}>Heavy</div><div style={{fontSize:11,fontWeight:600,fontFamily:'var(--mono)'}}>Opus 4.6</div></div><div><div style={{fontSize:9,color:'var(--t3)'}}>Workspace</div><div style={{fontSize:10,fontFamily:'var(--mono)'}}>clawd-{a.id}</div></div><div><div style={{fontSize:9,color:'var(--t3)'}}>Tasks</div><div style={{fontSize:11,fontWeight:600}}>{IT.filter(t=>t.agent===a.id).length} assigned</div></div></div></div>)}</div></div>)}

// CRON
function Cron(){const[jobs,setJobs]=useState([]);const[modal,setModal]=useState(false);const[loading,setLoading]=useState(true);
useEffect(()=>{F('/api/cron').then(d=>{if(d.jobs)setJobs(d.jobs);setLoading(false)})},[]);
const toggle=(id,enabled)=>{F('/api/cron/'+id,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({enabled})}).then(()=>setJobs(p=>p.map(j=>j.id===id?{...j,enabled}:j)))};
const del=id=>{if(confirm('Delete this cron job?'))F('/api/cron/'+id,{method:'DELETE'}).then(()=>setJobs(p=>p.filter(j=>j.id!==id)))};
const addJob=j=>{F('/api/cron',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(j)}).then(d=>{if(d.id)setJobs(p=>[...p,d]);setModal(false)})};
return(<div className="an"><div className="ph"><div><div className="pt">Cron Jobs</div><div className="ps">{jobs.length} jobs \u2014 {jobs.filter(j=>j.enabled!==false).length} enabled</div></div><button className="bt bt-p" onClick={()=>setModal(true)}>+ New Cron Job</button></div><div className="G" style={{borderRadius:12,overflow:'hidden'}}><table><thead><tr><th>Name</th><th>Schedule</th><th>Agent</th><th>Status</th><th>Actions</th></tr></thead><tbody>{jobs.map(j=><tr key={j.id}><td style={{fontWeight:500,color:'var(--t1)',fontFamily:'var(--mono)',fontSize:10}}>{j.name}</td><td style={{fontFamily:'var(--mono)',fontSize:10}}>{j.schedule?.expr||'\u2014'}</td><td>{AG.find(a=>a.id===j.agentId)?.i} {j.agentId}</td><td><span className={'pill '+(j.enabled!==false?'pill-on':'pill-off')} style={{cursor:'pointer'}} onClick={()=>toggle(j.id,j.enabled===false)}>{j.enabled!==false?'\u25CF on':'\u25CB off'}</span></td><td><button className="bt bt-d bt-s" onClick={()=>del(j.id)}>Delete</button></td></tr>)}</tbody></table></div>{modal&&<CronModal onAdd={addJob} onClose={()=>setModal(false)}/>}</div>)}

function CronModal({onAdd,onClose}){const[n,sN]=useState('');const[s,sS]=useState('0 8 * * *');const[a,sA]=useState('atlas');const[m,sM]=useState('');
return(<div className="mo-bg" onClick={onClose}><div className="mo GS" onClick={e=>e.stopPropagation()}><h3>New Cron Job</h3><div className="fg"><label className="lb">Name</label><input className="inp" value={n} onChange={e=>sN(e.target.value)} placeholder="job-name"/></div><div className="fg"><label className="lb">Cron Schedule (e.g. 0 8 * * *)</label><input className="inp" value={s} onChange={e=>sS(e.target.value)} placeholder="0 8 * * *"/></div><div className="fg"><label className="lb">Agent</label><select className="sel" value={a} onChange={e=>sA(e.target.value)}>{AG.map(x=><option key={x.id} value={x.id}>{x.n}</option>)}</select></div><div className="fg"><label className="lb">Message / Prompt</label><textarea className="ta" value={m} onChange={e=>sM(e.target.value)} placeholder="What should the bot do?"/></div><div style={{display:'flex',gap:8,justifyContent:'flex-end',marginTop:14}}><button className="bt bt-g" onClick={onClose}>Cancel</button><button className="bt bt-p" onClick={()=>n&&s&&onAdd({name:n,schedule:s,agentId:a,message:m})}>Create</button></div></div></div>)}

// SECURITY
function Security(){const[data,setData]=useState(null);
useEffect(()=>{F('/api/security/audit').then(setData)},[]);
const checks=[{l:'UFW Firewall',s:'active',ok:1,d:'Ports 22, 3389, 4000, 18789 from 47.202.99.139'},{l:'DM Policy',s:'allowlist',ok:1,d:'Locked to Telegram ID 367771509'},{l:'SSH Auth',s:'key-only',ok:1,d:'Password auth disabled'},{l:'Credentials Dir',s:data?.perms?.['.openclaw/credentials']||'700',ok:1,d:'chmod 700 \u2014 owner only'},{l:'Gateway',s:'running',ok:1,d:'Port 18789, auth mode token'},{l:'Bot Isolation',s:'enabled',ok:1,d:'Each cron runs in isolated session'},{l:'API Keys',s:'stored',ok:1,d:'.openclaw/credentials/openrouter.key'},{l:'Command Center',s:'password',ok:0,d:'Basic auth \u2014 recommend upgrade to token-based'},{l:'HTTPS/SSL',s:'none',ok:0,d:'Running HTTP only \u2014 add domain + cert'},{l:'2FA',s:'none',ok:0,d:'Not configured \u2014 recommend for prod'}];
return(<div className="an"><div className="ph"><div><div className="pt">{'üõ°\uFE0F'} Security</div><div className="ps">System security posture and audit results</div></div><button className="re" onClick={()=>F('/api/security/audit').then(setData)}>Run Audit</button></div><div className="g2"><div><h3 style={{fontSize:13,fontWeight:600,marginBottom:10}}>Security Checks</h3><div className="G" style={{borderRadius:12,overflow:'hidden'}}>{checks.map((c,i)=><div key={i} className="si"><div className={'si-i '+(c.ok?'si-ok':'si-w')}>{c.ok?'\u2705':'\u26A0\uFE0F'}</div><div style={{flex:1}}><div style={{fontWeight:500,fontSize:11}}>{c.l}</div><div style={{fontSize:9,color:'var(--t3)'}}>{c.d}</div></div><span className={'pill '+(c.ok?'pill-on':'pill-off')}>{c.s}</span></div>)}</div></div><div><h3 style={{fontSize:13,fontWeight:600,marginBottom:10}}>Firewall Rules</h3><div className="G" style={{padding:14,borderRadius:12}}><div style={{fontFamily:'var(--mono)',fontSize:10,lineHeight:1.8,color:'var(--t2)'}}>{data?.ufw||'Loading UFW status...'}</div></div><h3 style={{fontSize:13,fontWeight:600,marginBottom:10,marginTop:16}}>Recommendations</h3><div className="G" style={{padding:14,borderRadius:12}}>{[{t:'Add HTTPS/SSL',d:'Get domain + Let\'s Encrypt cert',p:'high'},{t:'Upgrade auth to JWT tokens',d:'Replace simple password with session tokens',p:'medium'},{t:'Enable 2FA',d:'TOTP for dashboard login',p:'medium'},{t:'API key rotation schedule',d:'Rotate OpenRouter key monthly',p:'low'},{t:'Rate limiting',d:'Add express-rate-limit to API',p:'low'}].map((r,i)=><div key={i} style={{display:'flex',alignItems:'center',gap:8,padding:'7px 0',borderBottom:i<4?'1px solid var(--glb)':'none'}}><span className={'tg tg-'+r.p[0]}>{r.p}</span><div style={{flex:1}}><div style={{fontWeight:500,fontSize:11}}>{r.t}</div><div style={{fontSize:9,color:'var(--t3)'}}>{r.d}</div></div></div>)}</div></div></div></div>)}

// TOKEN USAGE
function Usage(){const[data,setData]=useState(null);
useEffect(()=>{F('/api/usage').then(setData)},[]);
const tiers=data?.modelTiers||[];
return(<div className="an"><div className="ph"><div><div className="pt">{'üí≥'} Token Usage</div><div className="ps">Model costs, per-agent usage, optimization</div></div></div><div style={{marginBottom:18}}><h3 style={{fontSize:13,fontWeight:600,marginBottom:10}}>Model Tiers</h3><div className="G" style={{borderRadius:12,overflow:'hidden'}}><table><thead><tr><th>Tier</th><th>Model</th><th>Input $/MTok</th><th>Output $/MTok</th><th>Used For</th></tr></thead><tbody>{tiers.map((t,i)=><tr key={i}><td style={{fontWeight:600,color:'var(--t1)'}}>{t.tier}</td><td style={{fontFamily:'var(--mono)',fontSize:10}}>{t.model}</td><td style={{fontFamily:'var(--mono)'}}>${t.cost_in}</td><td style={{fontFamily:'var(--mono)'}}>${t.cost_out}</td><td>{t.usage}</td></tr>)}</tbody></table></div></div>
<div className="g2"><div><h3 style={{fontSize:13,fontWeight:600,marginBottom:10}}>Per-Agent Sessions</h3><div className="G" style={{borderRadius:12,overflow:'hidden'}}><table><thead><tr><th>Agent</th><th>Sessions</th><th>Files</th><th>Status</th></tr></thead><tbody>{data&&Object.entries(data.agents).map(([id,d])=><tr key={id}><td style={{fontWeight:500}}>{AG.find(a=>a.id===id)?.i} {id}</td><td style={{fontFamily:'var(--mono)'}}>{d.sessions}</td><td style={{fontFamily:'var(--mono)'}}>{d.files}</td><td><span className="pill pill-on">{'\u25CF'} active</span></td></tr>)}</tbody></table></div></div>
<div><h3 style={{fontSize:13,fontWeight:600,marginBottom:10}}>Cost Optimization</h3><div className="G" style={{padding:14,borderRadius:12}}>{[{t:'Route simple tasks to DeepSeek',d:'Save ~80% on basic lookups and formatting',s:'$'},  {t:'Use Gemini Flash for all heartbeats',d:'Currently free tier \u2014 already optimized',s:'\u2705'},{t:'Batch cron reports',d:'Combine morning reports into single session',s:'$'},{t:'Session compaction at 50K tokens',d:'Prevents runaway context costs',s:'\u2705'},{t:'Monitor Opus usage',d:'Ensure complex tasks only \u2014 15x cost vs Haiku',s:'$$'},{t:'Consider Kimi for weather/reminders',d:'$0.12/MTok vs $1/MTok Haiku',s:'$'}].map((r,i)=><div key={i} style={{display:'flex',alignItems:'center',gap:8,padding:'7px 0',borderBottom:i<5?'1px solid var(--glb)':'none'}}><span className="tg" style={{minWidth:24,textAlign:'center'}}>{r.s}</span><div style={{flex:1}}><div style={{fontWeight:500,fontSize:11}}>{r.t}</div><div style={{fontSize:9,color:'var(--t3)'}}>{r.d}</div></div></div>)}</div></div></div>
<div style={{marginTop:16}}><h3 style={{fontSize:13,fontWeight:600,marginBottom:10}}>Configuration</h3><div className="G" style={{padding:14,borderRadius:12}}><div style={{fontFamily:'var(--mono)',fontSize:10,lineHeight:2,color:'var(--t2)'}}><div>Default Model: {data?.defaultModel||'loading...'}</div><div>Fallback: Haiku {'\u2192'} DeepSeek {'\u2192'} Kimi</div><div>Cost Limits: $0.50/session, $5.00/day (via CLAUDE.md)</div><div>Session Timeout: 30min idle</div><div>Compaction: 50,000 token max</div><div>Heartbeat: Gemini Flash (free), 60min interval</div></div></div></div></div>)}

// DOCS
function Docs(){const[docs,setDocs]=useState({});const[sel,setSel]=useState(null);const[content,setCont]=useState('');const[exp,setExp]=useState({});
useEffect(()=>{F('/api/docs').then(setDocs)},[]);
const load=f=>{setSel(f.path);F('/api/docs/read?path='+encodeURIComponent(f.path)).then(d=>setCont(d.content||'Error'))};
const tog=w=>setExp(p=>({...p,[w]:!p[w]}));
const wn={'clawd-atlas':'üèõ Atlas','clawd-hvac':'\u2744\uFE0F HVAC','clawd-markets':'üìà Markets','clawd-digital':'üåê Digital','clawd-personal':'üë§ Personal','clawd-shared':'üìÅ Shared'};
return(<div className="an"><div className="ph"><div><div className="pt">Docs & Files</div><div className="ps">All workspace files</div></div></div><div style={{display:'flex',gap:16,minHeight:'calc(100vh - 140px)'}}><div className="dtree">{Object.entries(docs).map(([w,files])=><div key={w} className="dws"><div className="dwh G" onClick={()=>tog(w)}><span>{exp[w]?'\u25BC':'\u25B6'}</span><span>{wn[w]||w}</span><span style={{marginLeft:'auto',fontSize:9,color:'var(--t3)'}}>{files.length}</span></div>{exp[w]&&<div className="dfl">{files.map((f,i)=><div key={i} className={'df'+(sel===f.path?' on':'')} onClick={()=>load(f)}>{'üìÑ'} {f.name}</div>)}</div>}</div>)}</div><div style={{flex:1}}>{sel?<div><div style={{fontSize:11,fontWeight:600,marginBottom:6,color:'var(--t2)',fontFamily:'var(--mono)'}}>{sel}</div><div className="dv">{content}</div></div>:<div style={{display:'flex',alignItems:'center',justifyContent:'center',height:200,color:'var(--t3)'}}>Select a file</div>}</div></div></div>)}

// HEALTH
function Health(){const[h,setH]=useState(null);
useEffect(()=>{F('/api/health').then(setH);const iv=setInterval(()=>F('/api/health').then(setH),30000);return()=>clearInterval(iv)},[]);
const circ=2*Math.PI*38;
if(!h)return <div className="an"><div className="pt">Loading...</div></div>;
const ms=[{l:'CPU',v:parseFloat(h.cpu.percent),c:'var(--ac)',d:h.cpu.cores+' cores'},{l:'Memory',v:parseFloat(h.memory.percent),c:'var(--ac2)',d:h.memory.used+'/'+h.memory.total+'GB'},{l:'Disk',v:h.disk.percent,c:'var(--ok)',d:h.disk.detail},{l:'Gateway',v:h.gateway.running?100:0,c:h.gateway.running?'var(--ok)':'var(--bad)',d:h.gateway.running?'PID '+h.gateway.pid:'DOWN'}];
const uH=Math.floor(h.uptime/3600);const uD=Math.floor(uH/24);
return(<div className="an"><div className="ph"><div><div className="pt">VPS Health</div><div className="ps">{h.hostname} \u2014 Up {uD}d {uH%24}h \u2014 Auto-refresh 30s</div></div><button className="re" onClick={()=>F('/api/health').then(setH)}>Refresh</button></div><div className="g4">{ms.map((m,i)=>{const off=circ-(m.v/100)*circ;return(<div key={i} className="cd G" style={{textAlign:'center'}}><div className="rw"><svg width="76" height="76" viewBox="0 0 90 90"><circle cx="45" cy="45" r="38" fill="none" stroke="var(--glb)" strokeWidth="5"/><circle cx="45" cy="45" r="38" fill="none" stroke={m.c} strokeWidth="5" strokeDasharray={circ} strokeDashoffset={off} strokeLinecap="round" style={{transition:'stroke-dashoffset 1s'}}/></svg><div className="rv" style={{color:m.c}}>{m.v}%</div></div><div style={{fontSize:11,fontWeight:600,color:'var(--t2)'}}>{m.l}</div><div style={{fontSize:9,color:'var(--t3)'}}>{m.d}</div></div>)})}</div><div className="G" style={{padding:16,borderRadius:12,marginTop:14}}><h3 style={{fontSize:12,fontWeight:600,marginBottom:10}}>System Info</h3><div style={{display:'grid',gridTemplateColumns:'1fr 1fr 1fr',gap:10,fontSize:10}}><div><span style={{color:'var(--t3)'}}>Platform:</span> OpenClaw 2026.2.13</div><div><span style={{color:'var(--t3)'}}>Node:</span> {h.node}</div><div><span style={{color:'var(--t3)'}}>Gateway PID:</span> {h.gateway.pid||'\u2014'}</div><div><span style={{color:'var(--t3)'}}>Gateway Mem:</span> {h.gateway.mem}%</div><div><span style={{color:'var(--t3)'}}>CC PID:</span> {h.cmdCenter.pid}</div><div><span style={{color:'var(--t3)'}}>Free RAM:</span> {h.memory.free}GB</div></div></div></div>)}

// SETTINGS
function Settings({theme,setTheme}){const ts=[{id:'dark',l:'Dark',bg:'linear-gradient(135deg,#0a0a0f,#1a1a2e)'},{id:'light',l:'Light',bg:'linear-gradient(135deg,#f0f0f5,#fff)'},{id:'blue',l:'Blue',bg:'linear-gradient(135deg,#080c18,#0d1224)'}];
return(<div className="an"><div className="ph"><div><div className="pt">Settings</div></div></div><div style={{maxWidth:550}}><div style={{marginBottom:24}}><div style={{fontSize:13,fontWeight:600,marginBottom:10}}>Theme</div><div className="ths">{ts.map(t=><div key={t.id} className={'tho G'+(theme===t.id?' on':'')} onClick={()=>setTheme(t.id)}><div className="thp" style={{background:t.bg}}></div><div className="thn">{t.l}</div></div>)}</div></div><div style={{marginBottom:24}}><div style={{fontSize:13,fontWeight:600,marginBottom:10}}>Model Tiers</div><div className="G" style={{padding:14,borderRadius:10}}><div style={{fontSize:10,color:'var(--t2)',lineHeight:2.2}}><div>{'\u26A1'} <strong>T1 Opus 4.6</strong> \u2014 $15/$75 MTok</div><div>{'üîµ'} <strong>T2 Haiku 4.5</strong> \u2014 $1/$5 MTok [DEFAULT]</div><div>{'üíö'} <strong>T3 DeepSeek V3</strong> \u2014 $0.19/$0.87</div><div>{'üü°'} <strong>T4 Kimi K2.5</strong> \u2014 ~$0.12/$0.36</div><div>{'\u26AA'} <strong>T5 Gemini Flash</strong> \u2014 FREE</div></div></div></div><div><div style={{fontSize:13,fontWeight:600,marginBottom:10}}>Access</div><div className="G" style={{padding:14,borderRadius:10}}><div style={{fontSize:10,color:'var(--t2)',lineHeight:2}}><div><strong>URL:</strong> http://15.204.242.195:4000</div><div><strong>Password:</strong> openclaw2026</div><div><strong>DM Policy:</strong> Allowlist (367771509)</div><div><strong>UFW:</strong> 22, 3389, 4000, 18789</div></div></div></div></div></div>)}

// APP
function App(){const[auth,setAuth]=useState(false);const[pg,setPg]=useState('dashboard');const[theme,setTheme]=useState('dark');
useEffect(()=>{document.body.setAttribute('data-theme',theme)},[theme]);
useEffect(()=>{if(sessionStorage.getItem('cc'))setAuth(true)},[]);
const login=()=>{setAuth(true);sessionStorage.setItem('cc','1')};
if(!auth)return <Login onLogin={login}/>;
const pages={dashboard:<Dash/>,operations:<Kanban/>,builds:<Builds/>,agents:<Agents/>,cron:<Cron/>,security:<Security/>,usage:<Usage/>,docs:<Docs/>,health:<Health/>,settings:<Settings theme={theme} setTheme={setTheme}/>};
return(<div className="app"><Side pg={pg} go={setPg}/><div className="mn">{pages[pg]}</div></div>)}
ReactDOM.render(<App/>,document.getElementById('root'));
</script></body></html>
